---
title: Expanding the Tax Corpus
author: Alex Wold
date: '2021-06-18'
slug: expanding-the-tax-corpus
categories:
  - Tax Corpus
tags:
  - ParseHub
  - Scraping
subtitle: ''
summary: ''
authors: []
lastmod: '2021-06-18T01:59:30-05:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="{{< blogdown/postref >}}index.en_files/header-attrs/header-attrs.js"></script>


<p>Unfortunately, just the <a href="https://www.law.cornell.edu/uscode/text/26">IRC</a> and <a href="https://www.ecfr.gov/cgi-bin/ECFR?page=browse">ECFR</a> alone donâ€™t provide enough data for an acceptable vocabulary size. Too often, similarity pairs and analogy tuples fail to contribute to the testing metrics because the comparison terms fall short of the vector inclusion threshold. Therefore, we decided to attach a series of IRS <a href="https://www.irs.gov/instructions">instructions</a>, <a href="https://www.irs.gov/publications">publications</a>, and <a href="https://www.irs.gov/irb?page=0">bulletins</a> to expand the tax corpora and better equip the embedding for more involved performance evaluation.<br />
The IRS never posted the supplementary resources in a conveniently tagged XML format, so we used ParseHub (a UI based web scraping platform) to rip the HTML URLs for each instruction, publication, and bulletin for a total of 549 new tax passages. <img src="/images/ParseHub.png" /></p>
<p>To capture the actual text from the downloaded material, we used the <code>rvest</code> package and its suite of HTML functions to itemize each page into a list of character vectors, which we attached to the original set of corpora for further model creation.</p>
